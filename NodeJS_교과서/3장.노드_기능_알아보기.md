# 03. ë…¸ë“œ ê¸°ëŠ¥ ì•Œì•„ë³´ê¸°
## 3.1 REPL ì‚¬ìš©í•˜ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ì´ë¯€ë¡œ ì»´íŒŒì¼ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë¸Œë¼ìš°ì € ì½˜ì†”ì°½ ë§ê³  ë…¸ë“œì—ì„œ ì œê³µí•˜ëŠ” ì½˜ì†”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```bash
$ node
>

# .exitì„ í•˜ë©´ ì¢…ë£Œí•  ìˆ˜ ìˆìŒ
```

ì½”ë“œë¥¼ ì½ê³ (React), í•´ì„í•˜ê³ (Eval), ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•˜ê³ (Print), ì¢…ë£Œí•  ë•Œê¹Œì§€ ë°˜ë³µ(Loop)í•œë‹¤.

â‡’ REPL

## 3.2 JS íŒŒì¼ ì‹¤í–‰í•˜ê¸°

ì´ë²ˆì—” íŒŒì¼ì„ ì´ìš©í•´ì„œ ì‹¤í–‰í•´ë³¸ë‹¤.

```bash
$ node [filePath]
```

## 3.3 ëª¨ë“ˆ ë§Œë“¤ê¸°

ëª¨ë“ˆì´ë€?

- íŠ¹ì •í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ã…ìˆ˜ë‚˜ ë³€ìˆ˜ë“¤ì˜ ì§‘í•©

ë…¸ë“œì—ì„œ ëª¨ë“ˆì€ ë‘ ê°€ì§€ í˜•ì‹ì´ ì¡´ì¬í•œë‹¤.

- CommonJS Module
- ECMASCript Module

### CommonJS Module

í‘œì¤€ì´ ë‚˜ì˜¤ê¸° ì „ë¶€í„° ì‚¬ìš©í•´ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆ

var.js

```jsx
const a = 10
const b = 20

module.exports = {
	a,
	b
}

// ìœ„ì™€ ë™ì¼í•œ ë°©ì‹ì„
// exports.a = a
// exports.b = b
// module.exportsì™€ modulesëŠ” ë™ì¼í•œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸
// ë‘˜ì€ ì°¸ì¡° ê´€ê³„ê°€ ê¹¨ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°™ì´ ì•ˆ ì“°ëŠ” ê²ƒì´ ì¢‹ìŒ
```

func.js

```jsx
const sumResult = (a, b) => {
	console.log(`${a} + ${b} = ${a + b}`)
}

module.exports = sumResult
```

index.js

```jsx
const { a, b } = require('./var')
const sumResult = require('./func')
```

### nodeì˜ this

```jsx
console.log(this) // {}
console.log(this === module.exports) // true
console.log(this === exports); // true

(function() {
	console.log(this === exports) // false
	console.log(this === global) // true
})()
```

ìµœìƒìœ„ ìŠ¤ì½”í”„ thisëŠ” `module.exports(exports)` ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë©° í•¨ìˆ˜ ì„ ì–¸ë¬¸ ë‚´ë¶€ thisëŠ” `global`ì„ ê°€ë¦¬í‚¨ë‹¤.

### require

require í•¨ìˆ˜ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.

<aside>
â„¹ï¸

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” ê°ì²´ì´ë‹¤. require ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ëª‡ëª‡ ì•Œì•„ë³¸ë‹¤.

</aside>

```jsx

```

ì£¼ì˜ ì‚¬í•­

dep1.js

```jsx
const dep2 = require('./dep2')
console.log('require dep2', dep2)
module.expors = () => {
	console.log('dep2', dep2)
}
```

dep2.js

```jsx
const dep1 = require('./dep1')
console.log('require dep1', dep1)
module.expors = () => {
	console.log('dep1', dep1K)
}
```

index.js

```jsx
const dep1 = require('./dep1')
const dep2 = require('./dep2')

dep1()
dep2()
```

dep2 [Function (anonymous)]
dep1 {}
(node:63506) Warning: Accessing non-existent property 'Symbol(nodejs.util.inspect.custom)' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
(node:63506) Warning: Accessing non-existent property 'constructor' of module exports inside circular dependency
(node:63506) Warning: Accessing non-existent property 'Symbol(Symbol.toStringTag)' of module exports inside circular dependency

dep1ì˜ module.exportsê°€ í•¨ìˆ˜ê°€ ì•„ë‹Œ ë¹ˆ ê°ì²´ë¡œ í‘œì‹œë˜ëŠ” ê²ƒì„ ìˆœí™˜ ì°¸ì¡°ë¼ê³  í•œë‹¤.

ìˆœí™˜ ì°¸ì¡°ê°€ ìˆì„ ê²½ìš° ìˆœí™˜ ì°¸ì¡° ëŒ€ìƒì„ ë¹ˆ ê°ì²´ë¡œ ë°”ê¾¸ê³  ê²½ê³ ë¥¼ ì¼ìœ¼í‚¨ë‹¤.

### ECMAScript Module

- ê³µì‹ì ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆ í˜•ì‹ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

require â†’ import

exports â†’ export

module.exports â†’ export default

ECMAScript ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `.mjs`ë¡œ í™•ì¥ìë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©° `.js`ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ package.jsonì—ì„œ `type: â€œmoduleâ€` ì†ì„±ì„ ë„£ìœ¼ë©´ ëœë‹¤.

### __filename, __dirname

```jsx
console.log(__filename) // í˜„ì¬ íŒŒì¼ëª…
console.log(__dirname) // í˜„ì¬ íŒŒì¼ ê²½ë¡œ
```

ES ëª¨ë“ˆì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë©° import.meta.urlë¡œ ê²½ë¡œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```jsx
console.log(import.meta.url)
```

## 3. 4 ë…¸ë“œ ë‚´ì¥ ê°ì²´ ì•Œì•„ë³´ê¸°

ë¸Œë¼ìš°ì €ì˜ window ê°ì²´ì™€ ìœ ì‚¬í•˜ê²Œ Nodeì—ì„œ ë”°ë¡œ ë‚´ì¥ ê°ì²´ë¥¼ ì œê³µí•œë‹¤.

ë…¸ë“œ í”„ë¡œê·¸ë˜ë°ì—ì„œ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë‚´ì¥ ê°ì²´ì— ëŒ€í•´ ì•Œì•„ë³´ì.

### global

> ì „ì—­ ê°ì²´
â‡’ ëª¨ë“  íŒŒì¼ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ
> 

[`window.open](http://window.open) â‡’ open` ì´ë ‡ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë“¯ì´ `global`ì„ ìƒëµí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`require` í•¨ìˆ˜ë„ ë§ˆì°¬ê°€ì§€ë¡œ `global.require` ì´ë ‡ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê±°ì„.

<aside>
â„¹ï¸

ë…¸ë“œì—ëŠ” DOMê³¼ BOMì´ ì—†ê¸° ë•Œë¬¸ì— windowë‚˜ document ê°ì²´ë¥¼ ë…¸ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

ë”°ë¼ì„œ, ì´ ë‘˜ì„ ì•„ìš°ë¥´ëŠ” globalThis ê°ì²´ê°€ ë§Œë“¤ì–´ì¡Œìœ¼ë©° ë¸Œë¼ìš°ì €ì—ì„œëŠ” windowë¡œ ë…¸ë“œì—ì„œëŠ” globalë¡œ ëœë‹¤.

</aside>

ì „ì—­ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê°„ë‹¨í•œ ë°ì´í„°ë¥¼ ê³µìœ í•  ë•Œ ì‚¬ìš©í•˜ê¸°ë„ í•¨

a.js

```jsx
module.exports = () => glbal.message
```

b.js

```jsx
const A = require('./a')

global.message = 'hello'

console.log(A()) // hello
```

í•˜ì§€ë§Œ, ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì ¸ `global` ê°ì²´ë¥¼ ë‚¨ìš©í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.

### console

ë°‘ì˜ ë©”ì„œë“œë“¤ ê°„ë‹¨íˆ ì‚´í´ë³´ë©´ ì¢‹ë‹¤

- log
- time, timeEnd
- error
- table
- dir
- trace

### íƒ€ì´ë¨¸

- setTimeout
- setInterval
- setImmediate

â‡’ ìœ„ì˜ í•¨ìˆ˜ë“¤ì€ idë¥¼ ë°˜í™˜í•˜ëŠ”ë°

- clearTimeout
- clearInterval
- clearImmediate

â‡’ ìœ„ í•¨ìˆ˜ë¥¼ í†µí•´ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤.

íƒ€ì´ë¨¸ë¥¼ í”„ë¡œë¯¸ìŠ¤ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆëŠ”ë° ì´ëŠ” ë‚´ì¥ ê°ì²´ê°€ ì•„ë‹Œ ë‚´ì¥ ëª¨ë“ˆì´ë‹¤.

```jsx
import { setTimeout } from 'timer/promises'

await setTimeout(3000)
console.log('3ì´ˆ ë’¤ ì‹¤í–‰')
```

## 3.5 ë…¸ë“œ ë‚´ì¥ ëª¨ë“ˆ ì‚¬ìš©í•˜ê¸°

ë…¸ë“œëŠ” ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë³´ë‹¤ ë” ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤.

- ìš´ì˜ì²´ì œ ì ‘ê·¼
- í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ ì£¼ì†Œ
- etc

ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ ì¤‘ ì¤‘ìš”í•œ ëª‡ê°€ì§€ì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.

### os

```jsx
const os = require('os')

const printMethod = (list) => {
  for (const method of list) {
    console.log(`os.${method} : ${os[method]}`)
  }
}

console.log('ìš´ì˜ì²´ì œ ì •ë³´')
printMethod(['arch', 'platform', 'type', 'uptime', 'hostname', 'release'])

console.log('ê²½ë¡œ')
printMethod(['homedir', 'tempdir'])

console.log('cpu ì •ë³´')
printMethod(['cpus'])

console.log('ë©”ëª¨ë¦¬ ì •ë³´')
printMethod(['freemem', 'totalmem'])
```

```jsx
ìš´ì˜ì²´ì œ ì •ë³´
os.arch : arm64 // ì•„í‚¤í…ì²˜ ì •ë³´ (process.archì™€ ë™ì¼)
os.platform : darwin // í”Œë«í¼ ì •ë³´ (process.platformê³¼ ë™ì¼)
os.type : Darwin // ìš´ì˜ì²´ì œ ì •ë³´
os.uptime : 1351487 // ë¶€íŒ… í›„ íë¥¸ ì‹œê°„ (ì´ˆ) / (process.uptimeì€ nodeì˜ ì‹¤í–‰ ì‹œê°„)
os.hostname : tengui-MacBookAir.local // ì»´í“¨í„°ì˜ ì´ë¦„
os.release : 24.0.0 // ìš´ì˜ì²´ì œ ë²„ì „
ê²½ë¡œ 
os.homedir : /Users/teng // í™ˆ ë””ë ‰í† ë¦¬ ê²½ë¡œ
os.tempdir : /var/folders/yk/px23h3t50fn50y19rbdwp81r0000gn/T // ì„ì‹œ íŒŒì¼ ì €ì¥ ê²½ë¡œ
cpu ì •ë³´
// ì»´í“¨í„° ì½”ì–´ ì •ë³´
[
  {
    model: 'Apple M1',
    speed: 2400,
    times: {
      user: 130112060,
      nice: 0,
      sys: 104499610,
      idle: 411272250,
      irq: 0
    }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: {
      user: 123665770,
      nice: 0,
      sys: 96852340,
      idle: 425854040,
      irq: 0
    }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: {
      user: 110993400,
      nice: 0,
      sys: 85193050,
      idle: 450975980,
      irq: 0
    }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: {
      user: 103592020,
      nice: 0,
      sys: 77255080,
      idle: 466905420,
      irq: 0
    }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: { user: 77763760, nice: 0, sys: 62668660, idle: 508372370, irq: 0 }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: { user: 55906100, nice: 0, sys: 40941820, idle: 552520490, irq: 0 }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: { user: 38153790, nice: 0, sys: 27835390, idle: 583821820, irq: 0 }
  },
  {
    model: 'Apple M1',
    speed: 2400,
    times: { user: 30141110, nice: 0, sys: 23450930, idle: 596477870, irq: 0 }
  }
]
ë©”ëª¨ë¦¬ ì •ë³´
os.freemem : 63766528 // ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬
os.totalmem : 8589934592 // ì „ì²´ ë©”ëª¨ë¦¬ ìš©ëŸ‰
```

### path

```jsx
const path = require('path')
const filename = __filename

// ê²½ë¡œ êµ¬ë¶„ì ìœˆë„ìš° -> '\' POISX -> '/'
console.log(`path.sep: ${path.sep}`)
// path.sep: /

// í™˜ê²½ ë³€ìˆ˜ì˜ êµ¬ë¶„ì
// process.env.PATHë¥¼ í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ê²½ë¡œê°€ êµ¬ë¶„ìë¡œ ë˜ì–´ìˆëŠ”ë°
// ìœˆë„ìš° -> ';', POSIX -> ':'
console.log(`path.delimiter: ${path.delimiter}`)
// path.delimiter: :

console.log('\n')
// íŒŒì¼ì´ ìœ„ì¹˜í•œ ê²½ë¡œë¥¼ ë³´ì—¬ì¤Œ
console.log(`path.dirname(): ${path.dirname(filename)}`)
// path.dirname(): /Users/teng/archive/NodeJS_êµê³¼ì„œ/example/inner_module

// íŒŒì¼ì˜ í™•ì¥ìë¥¼ ë³´ì—¬ì¤Œ
console.log(`path.extname(): ${path.extname(filename)}`)
// path.extname(): .js

// íŒŒì¼ì˜ ì´ë¦„(í™•ì¥ì í¬í•¨)ì„ í‘œì‹œí•¨ ê·¸ë¦¬ê³  í™•ì¥ìë¥¼ ë¹¼ê³  ì‹¶ë‹¤ë©´ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ í™•ì¥ìë¥¼ ë„£ìœ¼ë©´ ë¨
console.log(`path.basename(): ${path.basename(filename)}`)
// path.basename(): path.js
console.log(`path.basename - extname: ${path.basename(filename, path.extname(filename))}`)
// path.basename - extname: path

console.log('\n')
// íŒŒì¼ ê²½ë¡œë¥¼ root, dir, base, ext, nameìœ¼ë¡œ íŒŒì‹±í•¨
console.log(path.parse(filename))
/* 
{
  root: '/',
  dir: '/Users/teng/archive/NodeJS_êµê³¼ì„œ/example/inner_module',
  base: 'path.js',
  ext: '.js',
  name: 'path'
}
*/

// path.parseí•œ ê°ì²´ë¥¼ íŒŒì¼ ê²½ë¡œë¡œ í•©ì¹¨
console.log(`path.format(): ${path.format({
  root: '/',
  dir: '/Users/teng/archive/NodeJS_êµê³¼ì„œ/example/inner_module',
  base: 'path2.js',
  ext: '.js',
  name: 'path2'
})}`)
// path.format(): /Users/teng/archive/NodeJS_êµê³¼ì„œ/example/inner_module/path2.js

// /ë‚˜ \ë¥¼  ì‹¤ìˆ˜ë¡œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í–ˆê±°ë‚˜ í˜¼ìš©í–ˆì„ ë•Œ ì •ìƒì ì¸ ê²½ë¡œë¡œ ë°˜í™˜
console.log(`path.normalize(): ${path.normalize('//////////path.js')}`)
// path.normalize(): /path.js

console.log('\n')

// íŒŒì¼ì˜ ê²½ë¡œê°€ ìƒëŒ€ ê²½ë¡œì¸ì§€ ì ˆëŒ€ ê²½ë¡œì¸ì§€ íŒë‹¨í•´ì¤Œ
console.log(`path.isAbsolute(/Users): ${path.isAbsolute('/Users')}`) // true
console.log(`path.isAbsolute(./home): ${path.isAbsolute('./home')}`) // false

console.log('\n')

// path.relative(ê¸°ì¤€ê²½ë¡œ, ë¹„êµê²½ë¡œ) ê¸°ì¤€ê²½ë¡œì—ì„œ ë¹„êµê²½ë¡œë¡œ ê°€ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤Œ
console.log(`path.relative(): ${path.relative(`${path.dirname(filename)}/os.js`, `${path.dirname(filename)}/path.js`)}`)
// path.relative(): ../path.js

// path.join(ê²½ë¡œ, ...) ì—¬ëŸ¬ ì¸ìˆ˜ë¥¼ ë„£ìœ¼ë©´ í•˜ë‚˜ì˜ ê²½ë¡œë¡œ í•©ì¹œë‹¤
// . -> í˜„ì¬ | .. -> ë¶€ëª¨
console.log(`path.join(): ${path.join(__dirname, '..', '..', '/users', '.', '/')}`)
// path.join(): /Users/teng/archive/NodeJS_êµê³¼ì„œ/users/

// path.resolve(ê²½ë¡œ, ...) joinê³¼ ë™ì¼í•˜ì§€ë§Œ /ë¥¼ ë§Œë‚˜ë©´ ì ˆëŒ€ ê²½ë¡œë¡œ ì¸ì‹í•´ì„œ ì•ì˜ ê²½ë¡œë¥¼ ë¬´ì‹œí•¨
console.log(`path.resolve(): ${path.resolve(__dirname, '..', 'users', '.', '/')}`)
// /
```

ë§Œì•½, ìœˆë„ìš°ì—ì„œ POSIXë¥¼ ì“°ê±°ë‚˜ ê·¸ ë°˜ëŒ€ì¼ ê²½ìš° `path.posix.sep`, `path.posix.join()`ê³¼ `path.win32.sep`, `path.win32.join()`

### url

ì¸í„°ë„· ì£¼ì†Œë¥¼ ì‰½ê²Œ ì¡°ì‘í•˜ë„ë¡ ë•ëŠ” ëª¨ë“ˆ

- WHATWG ğŸ‘
- node ë°©ì‹

ë¸Œë¼ìš°ì €ì—ì„œ WHATWGë¥¼ ì‚¬ìš©í•´ì„œ í˜¸í™˜ì„±ì´ ì¢‹ìŒ

```jsx
const url = require('url')

const { URL } = url // ë…¸ë“œì—ì„œë„ ì œê³µí•´ì„œ ìƒëµ ê°€ëŠ¥

const myURL = new URL('http://www.gilbut.co.kr/book/bookList.aspx?sercate1=01001000#anchor')
console.log('new URL', myURL)
/*
new URL URL {
  href: 'http://www.gilbut.co.kr/book/bookList.aspx?sercate1=01001000#anchor',
  origin: 'http://www.gilbut.co.kr',
  protocol: 'http:',
  username: '',
  password: '',
  host: 'www.gilbut.co.kr',
  hostname: 'www.gilbut.co.kr',
  port: '',
  pathname: '/book/bookList.aspx',
  search: '?sercate1=01001000',
  searchParams: URLSearchParams { 'sercate1' => '01001000' },
  hash: '#anchor'
}
*/

// ë¶„í•´ë˜ì—ˆë˜ url ê°ì²´ë¥¼ ë‹¤ì‹œ ì¡°ë¦½
console.log('url.format()', url.format(myURL))
// url.format() http://www.gilbut.co.kr/book/bookList.aspx?sercate1=01001000#anchor
```

node ë‚´ì¥ ê°ì²´ URLSearchParamsì— ëŒ€í•´ ì•Œì•„ë³´ì

```jsx
const url = new URL('http://naver.com/?page=3&page=4&limit=10')
const searchParams = url.searchParams

console.log(searchParams)
// URLSearchParams { 'page' => '3', 'page' => '4', 'limit' => '10' }

console.log('getAll', searchParams.getAll('page')) // ['3', '4']

console.log('get', searchParams.get('page')) // 3
console.log('get', searchParams.get('limit')) // 10

console.log('has', searchParams.has('page')) // true
console.log('has', searchParams.has('a')) // false

console.log(searchParams.keys()) // Iterator { 'page', 'page', 'limit' }
console.log(searchParams.values()) // Iterator { '3', '4', '10' }

searchParams.append('filter', 'node')
console.log(searchParams.get('filter')) // node

searchParams.set('filter', 'a')
console.log(searchParams.getAll('filter')) // [ 'a' ]

searchParams.delete('filter')
console.log(searchParams.has('filter')) // false

console.log(searchParams.toString()) // page=3&page=4&limit=10

```

### dns

DNSë¥¼ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆë¡œ ë„ë©”ì¸ì„ í†µí•´ IPë‚˜ ê¸°íƒ€ DNS ì •ë³´ë¥¼ ì–»ê³ ì í•  ë•Œ ì‚¬ìš©

```jsx
import dns from 'dns/promises'

// IPë¥¼ ì–»ëŠ” ë°©ë²•
const ip = await dns.lookup('gilbut.co.kr')
console.log('IP', ip)
const a = await dns.resolve('gilbut.co.kr', 'A')
console.log('A', a)

const mx = await dns.resolve('gilbut.co.kr', 'MX')
console.log('MX', mx)
const cname = await dns.resolve('www.gilbut.co.kr', 'CNAME')
console.log('CNAME', cname)
const any = await dns.resolve('gilbut.co.kr', 'ANY')
console.log('ANY', any)

// resolve í•¨ìˆ˜ì— ë‘ë²ˆì§¸ ì¸ìë¥¼ í†µí•´ ë ˆì½”ë“œë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
// - A IPv4
// - AAAA IPv6
// - NS name server
// - SOA ë„ë©”ì¸ ì •ë³´
// - CNAME ë³„ì¹­
// - MX ë©”ì¼ ì„œë²„
```

```jsx
IP { address: '49.236.151.220', family: 4 }
A [ '49.236.151.220' ]
MX [
  { exchange: 'aspmx.l.google.com', priority: 1 },
  { exchange: 'aspmx3.googlemail.com', priority: 10 },
  { exchange: 'alt1.aspmx.l.google.com', priority: 5 },
  { exchange: 'alt2.aspmx.l.google.com', priority: 5 },
  { exchange: 'aspmx2.googlemail.com', priority: 10 }
]
CNAME [ 'slb-1088813.ncloudslb.com' ]
ANY [
  { value: 'ns1-2.ns-ncloud.com', type: 'NS' },
  { value: 'ns1-1.ns-ncloud.com', type: 'NS' },
  {
    nsname: 'ns1-1.ns-ncloud.com',
    hostmaster: 'ns1-2.ns-ncloud.com',
    serial: 132,
    refresh: 21600,
    retry: 1800,
    expire: 1209600,
    minttl: 300,
    type: 'SOA'
  }
]
```

### crypto

ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì•”í˜¸í™”ë¥¼ ë•ëŠ” ëª¨ë“ˆ

<aside>
ğŸ¤”

ë§Œì•½ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•´ì•¼ í•œë‹¤ë©´, ê·¸ëƒ¥ ë¹„ë°€ë²ˆí˜¸ ìì²´ë¥¼ ë„£ìœ¼ë©´ ì•ˆ ëœë‹¤.

ë”°ë¼ì„œ, ì•”í˜¸í™”ë¥¼ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

</aside>

ì•”í˜¸í™” ë°©ì‹ì—ëŠ” í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.

- ë‹¨ë°©í–¥ ì•”í˜¸í™”
    - ë³µí˜¸í™”í•  ìˆ˜ ì—†ëŠ” ì•”í˜¸í™” ë°©ì‹
- ì–‘ë°©í–¥ ì•”í˜¸í™”
    - ë³µí˜¸í™”í•  ìˆ˜ ìˆëŠ” ì•”í˜¸í™” ë°©ì‹
    - ëŒ€ì¹­

### ë‹¨ë°©í–¥ ì•”í˜¸í™”

ë¹„ë°€ë²ˆí˜¸ì™€ ê°™ì´ ì›ë˜ ë¬¸ìì—´ì„ ì•Œ í•„ìš”ì—†ëŠ” ê²½ìš°ì—ëŠ” ë‹¨ë°©í–¥ ì•”í˜¸í™”ë¥¼ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

ì´ëŸ¬í•œ ì•”í˜¸í™”ë¥¼ `í•´ì‹œ í•¨ìˆ˜`ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.

â†’ ë¡œê·¸ì¸ ì‹œì—ëŠ” ë°›ì€ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•´ì„œ ì•”í˜¸í™”ëœ ë¬¸ìì—´ê³¼ ë¹„êµí•˜ë©´ ëœë‹¤.

hash.js

```jsx
const crypto = require('crypto')

console.log('base64: ', crypto.createHash('sha512').update('ë¹„ë°€ë²ˆí˜¸').digest('base64'))
// base64:  dvfV6nyLRRt3NxKSlTHOkkEGgqW2HRtfu19Ou/psUXvwlebbXCboxIPmDYOFRIpqav2eUTBFuHaZri5x+usy1g==
```

createHash

- ì‚¬ìš©í•  í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ë„£ëŠ”ë‹¤ sha512ë§Œ í•´ë„ ì¶©ë¶„í•˜ë‹¤. í•„ìš”í•˜ë‹¤ë©´ ë” ê°•í•œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë°”ê¾¸ë©´ ëœë‹¤.

update

- ë³€í™˜í•  ë¬¸ìì—´ (ì—¬ê¸°ì„œëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ëœë‹¤.)

digest

- ì¸ì½”ë”© ì•Œê³ ë¦¬ì¦˜ì„ ë„£ëŠ”ë‹¤.
- base64ê°€ ì§§ì•„ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤.

ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ë” ì•Œì•„ë³´ì.

ë…¸ë“œì—ì„œëŠ” pbkdf2, bcrypt, scrypt ë“± ì•Œê³ ë¦¬ì¦˜ì´ ì¡´ì¬í•œë‹¤.

pbkdf2ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³´ì.

pbkdf2

- ê¸°ì¡´ ë¬¸ìì—´ì— saltë¥¼ ë¶™ì´ê³  í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ë°˜ë³µí•´ì„œ ì ìš©í•˜ëŠ” ê²ƒ

```jsx
const crypto = require('crypto')

crypto.randomBytes(64, (err, buf) => {
  const salt = buf.toString('base64')
  console.log('salt', salt)

  crypto.pbkdf2('ë¹„ë°€ë²ˆí˜¸', salt, 100000, 64, 'sha512', (err, key) => {
    console.log('password', key.toString('base64'))
  })
})
```

pbkdf2

- ì²«ë²ˆì§¸ ì¸ì
    - ì•”í˜¸í™”í•  ë¬¸ìì—´
- ë‘ë²ˆì§¸ ì¸ì
    - salt
    - randomìœ¼ë¡œ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ì•”í˜¸í™”í•˜ê³  saltë¥¼ ì˜ ë³´ê´€í•˜ê³  ìˆì–´ì•¼ í•¨
- ì„¸ë²ˆì§¸ ì¸ì
    - ë°˜ë³µ íšŸìˆ˜ 10ë§Œë²ˆ ë°˜ë³µí•˜ëŠ”ê±´ë° ì–´ì§œí”¼ ì»´í“¨í„°ë¡œëŠ” 1ì´ˆì •ë„ë°–ì— ì•ˆ ê±¸ë¦¼
    - ì¶”ê°€ì ìœ¼ë¡œ ë‚´ë¶€ì ìœ¼ë¡œ ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•´ ë©€í‹° ìŠ¤ë ˆë”©ìœ¼ë¡œ ë™ì‘í•¨ (ë¸”ë¡œí‚¹ X)
- ë„¤ë²ˆì§¸ ì¸ì
    - 64byteì˜ ë¬¸ìì—´
- ë‹¤ì„¯ë²ˆì§¸ ì¸ì
    - ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ (hash function)
- ì—¬ì„¯ë²ˆì§¸ ì¸ì
    - callback function

### ì–‘ë°©í–¥ ì•”í˜¸í™”

ì–‘ë°©í–¥ ëŒ€ì¹­í˜• ì•”í˜¸í™” â†’ ì•”í˜¸í™”ëœ ë¬¸ìì—´ì„ ë³µí˜¸í™”í•  ìˆ˜ ìˆìœ¼ë©°, `í‚¤`ê°€ ì‚¬ìš©ë¨.

### ë” ë‚˜ì•„ê°€

- crypto ëª¨ë“ˆì— ëŒ€í•´ ê³µì‹ë¬¸ì„œë¥¼ ì‚´í´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤
- npm crypto-js ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆìœ¼ë‹ˆ í™•ì¸í•´ë³´ë©´ ì¢‹ë‹¤.

### utils

ê°ì¢… í¸ì˜ ê¸°ëŠ¥ì„ ëª¨ì•„ë‘” ëª¨ë“ˆ

ê³„ì† APIê°€ ìƒê¸°ê³  ìˆê³ , `deprecated`ë˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.

```jsx
const util = require('util');

const dontUseFunc = util.deprecate((x, y) => {
  console.log(x + y)
}, 'dontUseFunc í•¨ìˆ˜ëŠ” deprecatedë˜ì—ˆìœ¼ë‹ˆ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!')
dontUseFunc(1, 2)
// 3
// (node:50503) DeprecationWarning: dontUseFunc í•¨ìˆ˜ëŠ” deprecatedë˜ì—ˆìœ¼ë‹ˆ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!
// (Use `node --trace-deprecation ...` to show where the warning was created)

const callbackFunc = (x, y, callback) => {
  try {
    const result = x + y // ê³„ì‚° ìˆ˜í–‰
    callback(null, result) // ì²« ë²ˆì§¸ ì¸ìëŠ” ì—ëŸ¬(null), ë‘ ë²ˆì§¸ëŠ” ê²°ê³¼
  } catch (error) {
    callback(error) // ì—ëŸ¬ ë°œìƒ ì‹œ ì—ëŸ¬ë¥¼ ì „ë‹¬
  }
}

const promiseFunc = util.promisify(callbackFunc)

;(async () => {
  try {
    const result = await promiseFunc(1, 2);
    console.log(result) // 3
  } catch (error) {
    console.error(error);
  }
})()
```

### worker_threads

ë…¸ë“œì—ì„œ ë©€í‹° ìŠ¤ë ˆë“œ ë°©ì‹ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë‹¤.

`thread`

```jsx
const {
  Worker,
  isMainThread,
  parentPort
} = require('worker_threads')

if (isMainThread) { // ë©”ì¸ ìŠ¤ë ˆë“œì¼ ë•Œ
  const worker = new Worker(__filename)
  worker.on('message', message => console.log('from worker', message))
  worker.on('exit', () => console.log('worker exit'))
  worker.postMessage('ping')
} else { // ì›Œì»¤ì¼ ë•Œ
  parentPort.on('message', (value) => {
    console.log('from parent', value)
    parentPort.postMessage('pong')
    parentPort.close()
  })
}
```

`workerData`

```jsx
const {
  Worker,
  isMainThread,
  parentPort,
  workerData
} = require('worker_threads')

if (isMainThread) { // main thread
  const threads = new Set() // Set ìë£Œêµ¬ì¡°ë¥¼ í†µí•´ì„œ threadë¥¼ ê´€ë¦¬
  for (let i = 0; i < 3; ++i) {
    threads.add(new Worker(__filename, {
      workerData: { start: i }
    }))
  }

  for (const worker of threads) {
    worker.on('message', message => console.log(message))
    worker.on('exit', () => {
      threads.delete(worker)
      
      if (threads.size === 0) {
        console.log('job done')
      }
    })
  }
} else { // worker
  const data = workerData // workerì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  parentPort.postMessage(data.start + 100)
  // ì¢…ë£Œë˜ë©´ main threadì˜ worker.on('exit', callback)ì´ ì‹¤í–‰
}
```

ì†Œìˆ˜ êµ¬í•˜ê¸°

```jsx
const min = 2
const max = 10000000
const primes = []

function findPrimes(start, end) {
  let isPrime = true
  for (let i = start; i <= end; ++i) {
    for (let j = min; j < Math.sqrt(end); ++j) {
      if (i !== j && i % j === 0) {
        isPrime = false
        break
      }
    }

    if (isPrime) {
      primes.push(i)
    }
    isPrime = true
  }
}

console.time('prime')
findPrimes(min, max)
console.timeEnd('prime') // prime: 5.229s
console.log(primes.length) // 664579
```

ì´ëŸ¬í•œ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ì›Œì»¤ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•´ ë¬¸ì œë¥¼ ë‚˜ëˆ ì„œ í‘¼ë‹¤.

```jsx
// prime: 953.716ms
// 664579
const {
  Worker, 
  isMainThread,
  parentPort,
  workerData
} = require('worker_threads')

const min = 2
let primes = []

function findPrimes(start, end) {
  let isPrime = true
  for (let i = start; i <= end; ++i) {
    for (let j = min; j < Math.sqrt(end); ++j) {
      if (i !== j && i % j === 0) {
        isPrime = false
        break
      }
    }

    if (isPrime) {
      primes.push(i)
    }
    isPrime = true
  }
}

if (isMainThread) {
  const max = 10000000
  const threadCount = 8
  const threads = new Set()
  const range = Math.floor((max - min) / threadCount)

  let start = min
  console.time('prime')
  for (let i = 0; i < threadCount - 1; ++i) {
    const end = start + range - 1
    threads.add(new Worker(__filename, {
      workerData: { start, range: end }
    }))
    start += range
  }
  threads.add(new Worker(__filename, {
    workerData: { start, range: max }
  }))

  for (const worker of threads) {
    worker.on('error', (err) => {
      throw err
    })

    worker.on('exit', () => {
      threads.delete(worker)
      if (threads.size === 0) {
        console.timeEnd('prime')
        console.log(primes.length)
      }
    })

    worker.on('message', (message) => {
      primes = primes.concat(message)
    })
  }
} else {
  findPrimes(workerData.start, workerData.range)
  parentPort.postMessage(primes)
}
```

### child_process

ë…¸ë“œì—ì„œ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ê³  ì‹¶ê±°ë‚˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆ

ì´ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì–¸ì–´ì˜ ì½”ë“œ (python, â€¦)ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê´ê°’ì„ ë°›ì„ ìˆ˜ ìˆìŒ.

í˜„ì¬ ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ ì™¸ì˜ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ì›Œì„œ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ê³  ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ì— ê²°ê³¼ë¥¼ ì•Œë ¤ì£¼ê¸° ë•Œë¬¸ì— child_processë¼ëŠ” ì´ë¦„ì„ ë¶™ì˜€ë‹¤.

```
const exec = require('child_process').exec
const process = exec('ls')

process.stdout.on('data', (data) => {
  console.log(data.toString())
  // ls ëª…ë ¹ì–´ë¥¼ ì…ë ¥í–ˆì„ ë•Œì˜ ê²°ê³¼ê°’ì„ ì¶œë ¥í•œë‹¤.
})

process.stderr.on('data', (data) => {
  console.error(data.toString())
})
```

```jsx
const spawn = require('child_process').spawn
const process = spawn('python', [`${__dirname}/hello.py`])

process.stdout.on('data', (data) => {
  console.log(data.toString())
})

process.stderr.on('data', (data) => {
  console.log(data.toString())
})
```

### ê¸°íƒ€ ëª¨ë“ˆ

> ê´€ë ¨í•´ì„œ ì§ì ‘ ì˜ˆì œ ì½”ë“œ ë§Œë“¤ì–´ë³´ë©´ì„œ ê³µë¶€í•´ë³´ë©´ ì¢‹ì„ê±° ê°™ìŒ
> 

- async_hooks
    - ë¹„ë™ê¸° ì½”ë“œì˜ íë¦„ì„ ì¶”ì í•  ìˆ˜ ìˆëŠ” ì‹¤í—˜ì ì¸ ëª¨ë“ˆ
- dgram
    - UDPì™€ ê´€ë ¨ëœ ì‘ì—…ì„ í•  ë•Œ ì‚¬ìš©
- net
    - HTTPë³´ë‹¤ ë¡œìš° ë ˆë²¨ì¸ TCP / IPC í†µì‹ í•  ë•Œ ì‚¬ìš©
- perf_hooks
    - ì„±ëŠ¥ ì¸¡ì •ì„ í•  ë•Œ console.timeë³´ë‹¤ ë” ì •êµí•˜ê²Œ ì¸¡ì •
- querystring
    - URLSearchParamsê°€ ë‚˜ì˜¤ê¸° ì´ì „ì— ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ ë‹¤ë£¨ê¸° ìœ„í•´ ì‚¬ìš©í–ˆë˜ ëª¨ë“ˆ
- string_decoder
    - ë²„í¼ ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë°”ê¾¸ëŠ” ë° ì‚¬ìš©
- tls
    - TLS / SSLì— ê´€ë ¨ëœ ì‘ì—…ì„ í•  ë•Œ ì‚¬ìš©
- tty
    - í„°ë¯¸ë„ê³¼ ê´€ë ¨ëœ ì‘ì—…ì„ í•  ë•Œ ì‚¬ìš©
- v8
    - v8 ì—”ì§„ì— ì§ì ‘ ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- vm
    - ê°€ìƒ ë¨¸ì‹ ì— ì§ì ‘ ì ‘ê·¼í•  ë•Œ ì‚¬ìš©
- wasi
    - ì›¹ì–´ì…ˆë¸”ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©

## 3.6 íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼í•˜ê¸°

íŒŒì¼ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ fs ëª¨ë“ˆì„ ì‚¬ìš©í•œë‹¤.

```jsx
const fs = require('fs')
fs.readFile(`${__dirname}/a.txt`, (error, data) => {
  if (error) {
    throw error
  }

  console.log(data) // <Buffer 68 65 6c 6c 6f>
  console.log(data.toString()) // hello
})
```

callback íŒ¨í„´ì„ promiseë¡œ ê°œì„ í•˜ê¸°

```jsx
const fs = require('fs').promises
;(async () => {
  const fileData = (await fs.readFile(`${__dirname}/a.txt`)).toString()
  console.log(fileData) // hello
})()
```

ê¸€ ì“°ê¸°

```jsx
const fs = require('fs').promises

;(async () => {
  await fs.writeFile(`${__dirname}/b.txt`, 'ë°˜ê°‘ìŠµë‹ˆë‹¤.')

  const result = (await fs.readFile(`${__dirname}/b.txt`)).toString() // ì“´ ë‚´ìš©ì„ ì½ìŠµë‹ˆë‹¤.
  console.log(result) // ë°˜ê°‘ìŠµë‹ˆë‹¤.
})()
```

readFileì˜ ë™ì‘ ì•Œì•„ë³´ê¸°

```jsx
const fs = require('fs')

console.log('ì‹œì‘')

fs.readFile(`${__dirname}/a.txt`, (err, data) => {
  if (err) {
    throw err
  }

  console.log('1ë²ˆ')
})

fs.readFile(`${__dirname}/a.txt`, (err, data) => {
  if (err) {
    throw err
  }

  console.log('2ë²ˆ')
})

fs.readFile(`${__dirname}/a.txt`, (err, data) => {
  if (err) {
    throw err
  }

  console.log('3ë²ˆ')
})

console.log('ë')

// ì‹œì‘
// ë
// 2ë²ˆ
// 3ë²ˆ
// 1ë²ˆ
```

â‡’ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠìŒ. (ë¹„ë™ê¸° - ë…¼ë¸”ë¡œí‚¹)

ë§Œì•½, ë™ê¸° - ë¸”ë¡œí‚¹ ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ `readFileSync`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¨.

ì¶”ê°€ì ìœ¼ë¡œ promiseë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤í–‰ ìˆœì„œë¥¼ ë³´ì¥í•  ìˆ˜ ìˆìŒ

```jsx
const fs = require('fs').promises;

console.log('ì‹œì‘');

(async () => {
  const a = await fs.readFile(`${__dirname}/a.txt`);
  console.log(1, a);
  const b = await fs.readFile(`${__dirname}/a.txt`);
  console.log(2, b);
  const c = await fs.readFile(`${__dirname}/a.txt`);
  console.log(3, c);
})();

console.log('ë');
```

### ë²„í¼ì™€ ìŠ¤íŠ¸ë¦¼

íŒŒì¼ì„ ì½ê±°ë‚˜ ì“°ê¸° ìœ„í•´ í¬ê²Œ ë‘ ê°€ì§€ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

- ë²„í¼
- ìŠ¤íŠ¸ë¦¼

EX ) a.txt íŒŒì¼ì„ ì½ì„ ë•Œ íŒŒì¼ì˜ í¬ê¸°ë§Œí¼ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ê³  íŒŒì¼ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•œ ë’¤ ì½ì„ ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ, ìœ„ì˜ ë‹¨ì ì€ 1GBì— í•´ë‹¹í•˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì½ì–´ì•¼í•  ë•Œ ëª¨ë‘ ì½ì„ í›„ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.

ë”°ë¼ì„œ, 100MBë¥¼ ì½ì„ ë•Œ 1MBì”© 100ë²ˆ ì½ëŠ” ìŠ¤íŠ¸ë¦¼ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

buffer

```jsx
const buffer = Buffer.from('ë²„í¼')
console.log('from()', buffer) // <Buffer eb b2 84 ed 8d bc>
console.log('length', buffer.length) // length 6
console.log('toString()', buffer.toString()) // toString() ë²„í¼

const array = [Buffer.from('a '), Buffer.from('a '), Buffer.from('a ')]
const buffer2 = Buffer.concat(array)
console.log('concat()', buffer2.toString()) // concat() a a a

const buffer3 = Buffer.alloc(3)
console.log('alloc()', buffer3) // alloc() <Buffer 00 00 00>
```

- from
    - ë¬¸ìì—´ì„ ë²„í¼ë¡œ ë°”ê¿ˆ
- toString
    - ë²„í¼ë¥¼ ë¬¸ìì—´ë¡œ ë°”ê¿ˆ
- concat
    - ë°°ì—´ ì•ˆ ë²„í¼ë“¤ì„ í•˜ë‚˜ë¡œ í•©ì¹¨
- alloc
    - ë¹ˆ ë²„í¼ ìƒì„±

stream

```jsx
const fs = require('fs')

// a.txt => hello
const readStream = fs.createReadStream(`${__dirname}/a.txt`, {
  highWaterMark: 1
})
const data = []

readStream.on('data', (chunk) => {
  data.push(chunk)
  console.log('data: ', chunk, chunk.length)
  // data:  <Buffer 68> 1
  // data:  <Buffer 65> 1
  // data:  <Buffer 6c> 1
  // data:  <Buffer 6c> 1
  // data:  <Buffer 6f> 1
})

readStream.on('end', () => {
  console.log('end: ', Buffer.concat(data).toString()) // end:  hello
})

readStream.on('error', (error) => {
  console.log('error', error)
})
```

```jsx
const fs = require('fs')

const writeStream = fs.createWriteStream(`${__dirname}/a.txt`)
writeStream.on('finish', () => {
  console.log('íŒŒì¼ì— ì •ìƒì ìœ¼ë¡œ ì¼ìŠµë‹ˆë‹¤.')
})

writeStream.write('ê¸€ì“°ê¸°1\n')
writeStream.write('ê¸€ì“°ê¸°2')
writeStream.end()

/* a.txt
ê¸€ì“°ê¸°1
ê¸€ì“°ê¸°2
*/
```

íŒŒì¼ ë³µì‚¬ì²˜ëŸ¼ ì½ì€ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ì“¸ ìˆ˜ ìˆë‹¤. ì•¡ì²´ê°€ íë¥´ëŠ” ê´€ì²˜ëŸ¼ ë°ì´í„°ê°€ íë¥¸ë‹¤ê³  í•´ì„œ íŒŒì´í”„ë¼ëŠ” ì´ë¦„ì´ ë¶™ì—ˆë‹¤.

```jsx
const fs = require('fs')

const readFileStream = fs.createReadStream(`${__dirname}/a.txt`)
const writeFileStream = fs.createWriteStream(`${__dirname}/c.txt`)
readFileStream.pipe(writeFileStream)
```

pipeëŠ” ìŠ¤íŠ¸ë¦¼ ì‚¬ì´ì— ì—¬ëŸ¬ ë²ˆ ì—°ê²°í•  ìˆ˜ ìˆì–´ ë‹¤ìŒê³¼ ê°™ì´ gzipìœ¼ë¡œ ì••ì¶•í•  ìˆ˜ë„ ìˆë‹¤.

```jsx
const zlib = require('zlib')
const fs = require('fs')

const readStream = fs.createReadStream(`${__dirname}/a.txt`)
const zlibStream = zlib.createGzip()
const writestream = fs.createWriteStream(`${__dirname}/c.txt.gz`)

readStream.pipe(zlibStream).pipe(writestream)
```

streamì˜ pipeline ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ íŒŒì´í”„ë¥¼ ì‰½ê²Œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.

```jsx
import { pipeline } from 'stream/promises'
import zlib from 'zlib'
import fs from 'fs'
import path from 'path'
import { fileURLToPath } from 'url'

const __filename = fileURLToPath(import.meta.url)
const __dirname = path.dirname(__filename)

await pipeline(
  fs.createReadStream(`${__dirname}/a.txt`),
  zlib.createGzip(),
  fs.createWriteStream(`${__dirname}/c.txt.gz`)
)
```

`AbortController`ë¥¼ ì‚¬ìš©í•´ ì›í•  ë•Œ íŒŒì´í”„ë¥¼ ì¤‘ë‹¨í•  ìˆ˜ë„ ìˆë‹¤.

```jsx
import { pipeline } from "stream/promises";
import zlib from "zlib";
import fs from "fs";
import path from "path";
import { fileURLToPath } from "url";

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const ac = new AbortController();
const signal = ac.signal;

setTimeout(() => ac.abort(), 1);

try {
  await pipeline(
    fs.createReadStream(`${__dirname}/a.txt`),
    zlib.createGzip(),
    fs.createWriteStream(`${__dirname}/d.txt.gz`),
    { signal }
  );
  console.log("Pipeline succeeded!");
} catch (error) {
  if (error.code === "ABORT_ERR") {
    console.error("The pipeline was aborted!");
  } else {
    console.error("Pipeline failed:", error);
  }
}
```

```jsx
const fs = require('fs')

console.log('before: ', process.memoryUsage().rss)

const data = fs.readFileSync(`${__dirname}/bigData.txt`)
fs.writeFileSync(`${__dirname}/bigData2.txt`)
console.log('after: ', process.memoryUsage().rss)
```

â‡’ ë©”ëª¨ë¦¬ ìš©ëŸ‰ì´ ë§¤ìš° ì»¤ì§

```jsx
const fs = require('fs')

console.log('before: ', process.memoryUsage().rss)

const readStream = fs.createReadStream(`${__dirname}/bigData.txt`)
const writeStream = fs.createWriteStream(`${__dirname}/bigData2.txt`)
readStream.pipe(writeStream)

readStream.on('end', () => {
	console.log('after: ', process.memoryUsage().rss)
})
```

â‡’ ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•˜ë©´ ë²„í¼ë¥¼ ì‚¬ìš©í–ˆì„ ë•Œë³´ë‹¤ ë” ì ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

í° íŒŒì¼ì„ ì¡°ê°ë‚´ì–´ ì‘ì€ ë²„í¼ ë‹¨ìœ„ë¡œ ì˜®ê²¼ê¸° ë•Œë¬¸ì— ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•˜ë©´ íš¨ê³¼ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆìŒ.

### ê¸°íƒ€ fs ë©”ì„œë“œ

- fs.access(ê²½ë¡œ, ì˜µì…˜, ì½œë°±)
    - í´ë”ë‚˜ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì²´í¬
    - ì˜µì…˜ìœ¼ë¡œ fs.constantsë¥¼ í†µí•´ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
        - F_OK: íŒŒì¼ ì¡´ì¬ ì—¬ë¶€
        - R_OK: ì½ê¸° ê¶Œí•œ ì—¬ë¶€
        - W_OK: ì“°ê¸° ê¶Œí•œ ì—¬ë¶€
        - íŒŒì¼ / í´ë” ê¶Œí•œì´ ì—†ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë° ì—ëŸ¬ ì½”ë“œëŠ” ENOENT
- fs.mkdir(ê²½ë¡œ, ì½œë°±)
    - í´ë”ë¥¼ ë§Œë“œëŠ” ë©”ì„œë“œ
    - ì´ë¯¸ í´ë” ìˆë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ë¯€ë¡œ access ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ í™•ì¸í•´ì•¼ í•¨
- fs.open(ê²½ë¡œ, ì˜µì…˜, ì½œë°±)
    - íŒŒì¼ì˜ ì•„ì´ë””ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
    - íŒŒì¼ì´ ì—†ìœ¼ë©´ íŒŒì¼ì„ ìƒì„±í•œ ë’¤ ì•„ì´ë””ë¥¼ ê°€ì ¸ì˜´
    - ê°€ì ¸ì˜¨ ì•„ì´ë””ë¡œ [fs.read](http://fs.read) / fs.writeë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    - ë‘ ë²ˆì¬ ì¸ìˆ˜ë¡œ ì–´ë–¤ ë™ì‘ì„ í•  ê²ƒì¸ì§€ ì„¤ì •
        - w(ì“°ê¸°) / r(ì½ê¸°) / a(ì¶”ê°€)
- fs.rename(ê¸°ì¡´ ê²½ë¡œ, ìƒˆ ê²½ë¡œ, ì½œë°±)
    - íŒŒì¼ì˜ ì´ë¦„ì„ ë°”ê¾¸ëŠ” ë©”ì„œë“œ
- fs.readdir(ê²½ë¡œ, ì½œë°±)
    - í´ë” ì•ˆì˜ ë‚´ìš©ë¬¼ì„ í™•ì¸
    - ë°°ì—´ ì•ˆì— ë‚´ë¶€ íŒŒì¼ê³¼ í´ë”ëª…
- fs.unlink(ê²½ë¡œ, ì½œë°±)
    - íŒŒì¼ì„ ì§€ìš¸ ìˆ˜ ìˆìŒ
- fs.rmdir(ê²½ë¡œ, ì½œë°±)
    - í´ë”ë¥¼ ì§€ìš¸ ìˆ˜ ìˆìŒ
- fs.copyFile
    - streamì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  íŒŒì¼ì„ ë³µì‚¬í•  ìˆ˜ ìˆìŒ
- fs.watch
    - íŒŒì¼ / í´ë”ìœ¼ ë³€ê²½ ì‚¬í•­ì„ ê°ì‹œ

### ìŠ¤ë ˆë“œ í’€

fs ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ë„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆë˜ ì´ìœ ëŠ” ìŠ¤ë ˆë“œ í’€ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆë¡œëŠ” crypto, zlib, dns.lookup ë“±ì´ ìˆë‹¤.

```jsx
const crypto = require('crypto')

const pass = 'pass'
const salt = 'salt'
const start = Date.now()

crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('1: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('2: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('3: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('4: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('5: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('6: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('7: ', Date.now() - start)
})
crypto.pbkdf2(pass, salt, 100000, 128, 'sha512', () => {
  console.log('8: ', Date.now() - start)
})

// output
// 3:  116
// 2:  128
// 4:  128
// 1:  128
// 5:  245
// 6:  245
// 8:  248
// 7:  248
```

1 ~ 4 / 5 ~ 8ì´ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì—¬ 1 ~ 4 ì´í›„ì— 5 ~ 8ì´ ë˜ëŠ”ë° ê¸°ë³¸ì ì€ ìŠ¤ë ˆë“œ í’€ì˜ ê°œìˆ˜ê°€ 4ê°œì´ê¸° ë•Œë¬¸ì„.

ìŠ¤ë ˆë“œ í’€ì€ ì§ì ‘ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ì—†ì§€ë§Œ, ê°œìˆ˜ëŠ” ì¡°ì ˆí•  ìˆ˜ ìˆìŒ.

ë§¥ê³¼ ë¦¬ëˆ…ìŠ¤ëŠ” í„°ë¯¸ë„ì—ì„œ `UV_THREADPOOL_SIZE=number` ë¥¼ í†µí•´ ìŠ¤ë ˆë“œ í’€ì˜ ê°œìˆ˜ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŒ

ìˆ«ìë¥¼ í¬ê²Œ í•  ë•ŒëŠ” ìì‹ ì˜ ì»´í“¨í„° ì½”ì–´ ê°œìˆ˜ì™€ ê°™ê±°ë‚˜ ê·¸ ì´ìƒì´ì–´ì•¼ ëšœë ·í•œ íš¨ê³¼ê°€ ë°œìƒí•¨

## 3.7 ì´ë²¤íŠ¸ ì´í•´í•˜ê¸°

```jsx
readStream.on('data', () => {

})
```

- on: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ë©”ì„œë“œ
- â€˜dataâ€™: ì´ë²¤íŠ¸

ë©”ì„œë“œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡ ë° ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì§ì ‘ ì´ë²¤íŠ¸ë¥¼ ìƒì„± ë° ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

```jsx
const EventEmitter = require('events')

const myEvent = new EventEmitter()
myEvent.addListener('event1', () => {
  console.log('ì´ë²¤íŠ¸ 1 ë°œìƒ')
})

myEvent.on('event2', () => {
  console.log('ì´ë²¤íŠ¸ 2 ë°œìƒ')
})

myEvent.on('event2', () => {
  console.log('ì´ë²¤íŠ¸ 2 ë°œìƒ 2')
})

myEvent.emit('event1') // ì´ë²¤íŠ¸ 1 ë°œìƒ
myEvent.emit('event2') // ì´ë²¤íŠ¸ 2 ë°œìƒ, ì´ë²¤íŠ¸ 2 ë°œìƒ 2

myEvent.once('event3', () => {
  console.log('ì´ë²¤íŠ¸ 3 ë°œìƒ')
})

myEvent.emit('event3')
myEvent.emit('event3') // onceì´ê¸° ë•Œë¬¸ì— í•œ ë²ˆë§Œ ê°€ëŠ¥

myEvent.removeAllListeners('event2')
myEvent.emit('event2') // ì´ë²¤íŠ¸ ëª¨ë‘ ì‚­ì œë¨

const listener = () => {
  console.log('ì´ë²¤íŠ¸ 4 ë°œìƒ')
}
myEvent.on('event4', listener)
myEvent.removeListener('event4', listener) // íŠ¹ì • ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì‚­ì œ
myEvent.emit('event4') // ì•ˆ ë¨

console.log(myEvent.listenerCount('event1')) // 1
```

- on
    - ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë‹¬ê¸°
- addListener
    - onì´ë‘ ë™ì¼
- emit
    - ì´ë²¤íŠ¸ í˜¸ì¶œ
- once
    - í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸
- removeAllListeners
    - ì´ë²¤íŠ¸ì— ì—°ê²°ëœ ëª¨ë“  ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì‚­ì œ
- removeListener
    - ì´ë²¤íŠ¸ì— ì—°ê²°ëœ ë¦¬ìŠ¤ë„ˆ ì œê±°
- off
    - removeListenerì™€ ë™ì¼
- listenerCount
    - í˜„ì¬ ë¦¬ìŠ¤ë„ˆ ê°œìˆ˜ í™•ì¸

## 3.8 ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°

ë…¸ë“œëŠ” ë©”ì¸ ìŠ¤ë ˆë“œ í•˜ë‚˜ë¿ì´ê¸° ë•Œë¬¸ì— ì†Œì¤‘íˆ ë³´í˜¸í•´ì•¼ í•¨.

ì—ëŸ¬ ë¡œê·¸ê°€ ê¸°ë¡ë˜ë”ë¼ë„ ê³„ì† ì‘ì—…ì„ í•  ìˆ˜ ìˆë„ë¡ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•´ì•¼ í•¨.

1. try-catch
2. ì§ì ‘ error ì¡ê¸°
    - ifë¬¸
3. processì— ì—ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡í•˜ê¸°
    
    ```jsx
    process.on('uncaughtException', (error) => {
    	// ...
    }
    ```
    
    â‡’ ë…¸ë“œ ê³µì‹ ë¬¸ì„œì—ì„œ ìµœìˆ˜ì˜ ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥
    
    â‡’ ì—ëŸ¬ ë¡œê¹…í•˜ëŠ” ì •ë„ë¡œ ì‚¬ìš©í•˜ê³  process.exitì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œí•˜ëŠ” ê²ƒì´ ì¢‹ìŒ
    

### ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬

- node: command not found
    - í™˜ê²½ ë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ì„¤ì • ì•ˆ ë¨
- ReferenceError: ëª¨ë“ˆ is not defined
    - ëª¨ë“ˆì´ require ëëŠ”ì§€ í™•ì¸
- Error: Cannot find module ëª¨ë“ˆëª…
    - ëª¨ë“ˆì´ ì„¤ì¹˜ê°€ ì•ˆ ë¨
    - npm ië¡œ ì„¤ì¹˜
- Error [ERR_MODULE_NOT_FOUND]
    - ì¡´ì¬í•˜ì§€ ì•Šì€ ëª¨ë“ˆ ê°€ì ¸ì˜´
- Error: Canâ€™t set headers after they are sent
    - ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì„ ë³´ë‚¼ ë•Œ ë‘ ë²ˆ ì´ìƒ ë³´ëƒ„
- FATAL ERROR: CALL_AND_RETRY_LAST Allocation filed-JavaScript heap out of memory
    - ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŒ
    - ì½”ë“œê°€ ì˜ëª» ì‘ì„±ëœ ê²½ìš°ê°€ ë§ìŒ
- UnhandledPromiseRejectionWarning: Unhandled promise rejection
    - í”„ë¡œë¯¸ìŠ¤ ì‚¬ìš© ì‹œ catchë¥¼ ë¶™ì´ì§€ ì•ŠìŒ
- EADDRINUSE í¬íŠ¸ ë²ˆí˜¸
    - í•´ë‹¹ í¬íŠ¸ ë²ˆí˜¸ê°€ ì´ë¯¸ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì—°ê²°ë˜ì–´ ìˆìŒ
    
    ```jsx
    lsof -i tcp:í¬íŠ¸
    kill -9 í”„ë¡œì„¸ìŠ¤ì•„ì´ë””
    ```
    
- EACCES ë˜ëŠ” EPERM
    - ë…¸ë“œê°€ ì‘ì—…í•˜ëŠ” ë° ê¶Œí•œì´ ì¶©ë¶„í•˜ì§€ ì•ŠìŒ
- EJSONPARSE
    - package.json ë“±ì˜ JSON íŒŒì¼ì— ë¬¸ë²•
- ECONNEREFUSED
    - ìš”ì²­ì„ ë³´ëƒˆìœ¼ë‚˜ ì—°ê²°ì´ ì„±ë¦½í•˜ì§€ ì•ŠìŒ
- ETARGET
    - package.jsonì— ê¸°ë¡í•œ íŒ¨í‚¤ì§€ ë²„ì „ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- ETIMEOUT
    - ìš”ì²­ì„ ë³´ëƒˆìœ¼ë‚˜ ì‘ë‹µì´ ì‹œê°„ ë‚´ ì˜¤ì§€ì•ŠìŒ
- ENOENT: no such file or directory
    - ì§€ì •í•œ í´ë”ë‚˜ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

## ëŠë‚€ì 

- NodeJSë¥¼ í†µí•´ ë§ì€ ê²ƒë“¤ì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ëŠê¼ˆê³ , ì¬ë°Œê²Œ ì½ì—ˆë‹¤.
- ì•”í˜¸í•™ì€ ëì´ ì—†ì„ê±° ê°™ì•„ì„œ ê°„ë‹¨íˆ ì‚´í´ë´¤ë‹¤.
- Nodeì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ APIì— ëŒ€í•´ì„œëŠ” ë‚˜ì¤‘ì— ì²œì²œíˆ ê³µì‹ë¬¸ì„œ ì½ì–´ë³´ë©´ ì¢‹ì„ê±° ê°™ë‹¤.
- ES moduleì´ë‘ CommonJS moduleëŠ” ë”¥ë‹¤ì´ë¸Œì—ì„œ ì†Œê°œí•´ì„œ ê°„ë‹¨í•˜ê²Œ ì•Œê³  ìˆì—ˆëŠ”ë° ì¢€ ë” ê¹Šê²Œ ì•Œê²Œ ëœ ê³„ê¸°ê°€ ë˜ì—ˆë‹¤.
- threadì™€ processì˜ ì°¨ì´ì ì— ë” ì•Œê²Œ ëë‹¤.
- aiëŠ” pythonìœ¼ë¡œ ê°œë°œí•˜ê³ , spawn ì¨ì„œ nodeë¡œ ai ëª¨ë¸ ì„œë¹™í•˜ëŠ” ê²ƒë„ ê°œë°œí•  ìˆ˜ ìˆì„ê±° ê°™ë‹¤.
    - GPT ë§ë¡œëŠ” ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì´ë¼ê³  í•œë‹¤.
- ì½”ë”© í…ŒìŠ¤íŠ¸ì—ì„œ `readFileSync`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆìŒ. (ë™ê¸° - ë¸”ë¡œí‚¹)
- ìŠ¤íŠ¸ë¦¼, ë²„í¼ ë“±ì— ëŒ€í•œ ì´í•´ë¥¼ í‚¤ìš¸ ìˆ˜ ìˆì—ˆë‹¤.